gh pr create --base main --head feature/implement-base-rsa-service --title "RSA Feature - Phases 1-3 Implementation" --body "$(cat <<'EOF'
  ## Summary

  Implements RSA SecurID management feature, porting functionality from legacy PowerShell HAT to NestJS. Phases 1-3 complete, Phase 4+ remaining.

  ### Completed

  **Phase 1 - Core RSA Operations**
  - `GET /users/{userId}/rsa` - Get user + token info from Chorus API
  - `POST /users/{userId}/actions/rsa-unlock` - Unlock RSA token

  **Phase 2 - AMAMIS Integration**
  - `POST /users/{userId}/actions/rsa-auth` - Validate passcode via AMAMIS (XML API)

  **Phase 3 - Clear PIN**
  - `POST /users/{userId}/actions/rsa-clear-pin` - Clear token PIN, set to new PIN mode

  ### Files Added
  - `src/http/amamis/` - AMAMIS service module (XML handling)
  - `src/http/rsa/data/domain-types.ts` - RSA type definitions
  - `docs/RSA_PHASE1.md`, `RSA_PHASE2.md`, `RSA_PHASE3.md`

  ### Files Modified
  - `src/http/rsa/rsa.service.ts` - Added getRsaInfo, unlockToken, clearTokenPin
  - `src/users/users.service.ts` - Business logic for RSA operations
  - `src/users/controllers/user-actions.controller.ts` - RSA endpoints

  ## Testing Status

  | Endpoint | Status | Notes |
  |----------|--------|-------|
  | GET /rsa (user info) | ✅ Tested | Works in DEV |
  | GET /rsa (tokens) | ⚠️ Partial | Returns empty - test user has no linked tokens in Chorus DEV |
  | POST /rsa-auth | ✅ Tested | AMAMIS auth works |
  | POST /rsa-unlock | ❌ Not tested | Requires token serial number |
  | POST /rsa-clear-pin | ❌ Not tested | Requires token serial number |

  **Test User:** 800658593 (devmaple domain) - has tokens in AMAMIS but not linked in Chorus DEV

  ## Remaining Work (Phase 4+)

  - [ ] ServiceNow integration (ticket creation on PIN clear)
  - [ ] RITM lookup endpoint (`GET /users/{userId}/rsa/ritm`)
  - [ ] Error mapping (user-friendly error messages)
  - [ ] Unit tests
  - [ ] Find test user with tokens linked in Chorus DEV
